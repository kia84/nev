// Original: http://userapi.com/js/api/openapi.js?17
(function(a){function b(){var b="";for(i=0;5>i;i++)b+=Math.ceil(15*Math.random()).toString(16);return b}function c(b,a,d,n,g){b[a]?d.apply(n):(g=g||0,1E3>g&&setTimeout(function(){c(b,a,d,n,g+1)},0))}function f(b){setTimeout(function(){var d=document.createElement("script");d.type="text/javascript";d.src=b||a.fastXDM.helperUrl;c(document,"body",function(){document.getElementsByTagName("HEAD")[0].appendChild(d)})},0)}function k(b,a){switch(typeof b){case "string":return a?b.replace(/&/g,"&amp;").replace(/</g, "&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):b.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");case "object":if("[object Array]"===Object.prototype.toString.apply(b)){newValue=[];for(var c=0;c<b.length;c++)newValue[c]=k(b[c],a)}else for(c in b)newValue={},Object.hasOwnProperty.call(b,c)&&(newValue[c]=k(b[c],a));default:newValue=b}return newValue}function l(b,a){e.loaded?b.apply(a,[e]):r.push([a,b])}function n(){e.loaded= !0;for(var b=r.length;b--;)r[b][1].apply(r[b][0],[e])}function h(b,a){l(function(c){var d=c.json.parse(b);if(d[0]){d[1]||(d[1]=[]);for(c=d[1].length;c--;)if(d[1][c]._func){var n=d[1][c]._func;d[1][c]=function(){var b=Array.prototype.slice.call(arguments);b.unshift("_func"+n);a.callMethod.apply(a,b)}}else a.options.safe&&(d[1][c]=k(d[1][c],!0));setTimeout(function(){if(!a.methods[d[0]])throw Error("fastXDM: Method "+d[0]+" is undefined");a.methods[d[0]].apply(a,d[1])},0)}})}function g(b,a){for(var c in a)b[c]&& "object"==typeof b[c]?g(b[c],a[c]):b[c]=a[c]}if(!a.fastXDM){var d={},r=[],e={};a.fastXDM={_id:0,helperUrl:("https:"===location.protocol?"https:":"http:")+"//vk.com/js/api/xdmHelper.js",Server:function(c,n,g){this.methods=c||{};this.id=a.fastXDM._id++;this.options=g||{};this.filter=n;this.key=b();this.methods["%init%"]=this.methods.__fxdm_i=function(){a.fastXDM.run(this.id);if(this.methods.onInit)this.methods.onInit()};this.frameName="fXD"+this.key;this.server=!0;d[this.key]=[h,this]},Client:function(b, c){this.methods=b||{};this.id=a.fastXDM._id++;this.options=c||{};a.fastXDM.run(this.id);if(0===window.name.indexOf("fXD"))this.key=window.name.substr(3);else throw Error("Wrong window.name property.");this.caller=window.parent;d[this.key]=[h,this];this.client=!0;a.fastXDM.on("helper",function(){a.fastXDM.onClientStart(this)},this);l(function(b){b.send(this,b.json.stringify(["%init%"]));var a=this.methods;setTimeout(function(){if(a.onInit)a.onInit()},0)},this)},onMessage:function(b){if(!b.data)return!1; var a=b.data.substr(0,5);if(d[a]){var c=d[a][1];if(c&&(!c.filter||c.filter(b.origin)))d[a][0](b.data.substr(6),c)}},setJSON:function(b){e.json=b},getJSON:function(b){if(!b)return e.json;l(function(a){b(a.json)})},setEnv:function(b){for(var a in b)e[a]=b[a];n()},_q:{},on:function(b,a,c){this._q[b]||(this._q[b]=[]);-1==this._q[b]?a.apply(c):this._q[b].push([a,c])},run:function(b){var a=(this._q[b]||[]).length;if(this._q[b]&&0<a)for(var c=0;c<a;c++)this._q[b][c][0].apply(this._q[b][c][1]);this._q[b]= -1},waitFor:c};a.fastXDM.Server.prototype.start=function(b,c){if(b.contentWindow)this.caller=b.contentWindow,this.frame=b,a.fastXDM.on("helper",function(){a.fastXDM.onServerStart(this)},this);else{var d=this;c=c||0;50>c&&setTimeout(function(){d.start.apply(d,[b,c+1])},100)}};a.fastXDM.Server.prototype.destroy=function(){d.splice(d.indexOf(this.key),1)};a.fastXDM.Server.prototype.append=function(b,a){var c=document.createElement("DIV");c.innerHTML='<iframe name="'+this.frameName+'" ></iframe>';var d= c.firstChild,n=this;setTimeout(function(){d.frameBorder="0";a&&g(d,a);b.insertBefore(d,b.firstChild);n.start(d)},0);return d};a.fastXDM.Client.prototype.callMethod=a.fastXDM.Server.prototype.callMethod=function(){for(var b=Array.prototype.slice.call(arguments),d=b.shift(),n=b.length;n--;)if("function"==typeof b[n]){this.funcsCount=(this.funcsCount||0)+1;var g=b[n],e="_func"+this.funcsCount;this.methods[e]=function(){g.apply(this,arguments);delete this.methods[e]};b[n]={_func:this.funcsCount}}else this.options.safe&& (b[n]=k(b[n],!1));c(this,"caller",function(){a.fastXDM.on(this.id,function(){l(function(a){a.send(this,a.json.stringify([d,b]))},this)},this)},this)};a.JSON&&"object"==typeof a.JSON&&a.JSON.parse&&a.JSON.stringify&&'{"a":[1,2,3]}'==a.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?e.json={parse:a.JSON.parse,stringify:a.JSON.stringify}:a.fastXDM._needJSON=!0;a.postMessage?(e.protocol="p",e.send=function(b,a){(b.frame?b.frame.contentWindow:b.caller).postMessage(b.key+":"+a,"*")},a.addEventListener?a.addEventListener("message", a.fastXDM.onMessage,!1):a.attachEvent("onmessage",a.fastXDM.onMessage),a.fastXDM._needJSON?(a.fastXDM._onlyJSON=!0,f()):n()):f()}})(window);window.VK||(window.VK={}); VK.MD5||(VK.MD5=function(a){var b=function(b,a){var c=(b&65535)+(a&65535);return(b>>16)+(a>>16)+(c>>16)<<16|c&65535},c=function(a,c,g,d,f,e){a=b(b(c,a),b(d,e));return b(a<<f|a>>>32-f,g)},f=function(b,a,g,d,f,e,k){return c(a&g|~a&d,b,a,f,e,k)},k=function(b,a,g,d,f,e,k){return c(a&d|g&~d,b,a,f,e,k)},l=function(b,a,g,d,f,e,k){return c(g^(a|~d),b,a,f,e,k)};return function(b){for(var a="",c,d=0,f=b.length;d<f;d++)c=b.charCodeAt(d),a+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15); return a}(function(a){var h=Array(a.length>>2),g,d;g=0;for(d=h.length;g<d;g++)h[g]=0;g=0;for(d=8*a.length;g<d;g+=8)h[g>>5]|=(a.charCodeAt(g/8)&255)<<g%32;var r=8*a.length;a=1732584193;g=-271733879;d=-1732584194;var e=271733878,p,s,t;h[r>>5]|=128<<r%32;h[(r+64>>>9<<4)+14]=r;for(var m=0,q=h.length;m<q;m+=16)r=a,p=g,s=d,t=e,a=f(a,g,d,e,h[m+0],7,-680876936),e=f(e,a,g,d,h[m+1],12,-389564586),d=f(d,e,a,g,h[m+2],17,606105819),g=f(g,d,e,a,h[m+3],22,-1044525330),a=f(a,g,d,e,h[m+4],7,-176418897),e=f(e,a,g, d,h[m+5],12,1200080426),d=f(d,e,a,g,h[m+6],17,-1473231341),g=f(g,d,e,a,h[m+7],22,-45705983),a=f(a,g,d,e,h[m+8],7,1770035416),e=f(e,a,g,d,h[m+9],12,-1958414417),d=f(d,e,a,g,h[m+10],17,-42063),g=f(g,d,e,a,h[m+11],22,-1990404162),a=f(a,g,d,e,h[m+12],7,1804603682),e=f(e,a,g,d,h[m+13],12,-40341101),d=f(d,e,a,g,h[m+14],17,-1502002290),g=f(g,d,e,a,h[m+15],22,1236535329),a=k(a,g,d,e,h[m+1],5,-165796510),e=k(e,a,g,d,h[m+6],9,-1069501632),d=k(d,e,a,g,h[m+11],14,643717713),g=k(g,d,e,a,h[m+0],20,-373897302), a=k(a,g,d,e,h[m+5],5,-701558691),e=k(e,a,g,d,h[m+10],9,38016083),d=k(d,e,a,g,h[m+15],14,-660478335),g=k(g,d,e,a,h[m+4],20,-405537848),a=k(a,g,d,e,h[m+9],5,568446438),e=k(e,a,g,d,h[m+14],9,-1019803690),d=k(d,e,a,g,h[m+3],14,-187363961),g=k(g,d,e,a,h[m+8],20,1163531501),a=k(a,g,d,e,h[m+13],5,-1444681467),e=k(e,a,g,d,h[m+2],9,-51403784),d=k(d,e,a,g,h[m+7],14,1735328473),g=k(g,d,e,a,h[m+12],20,-1926607734),a=c(g^d^e,a,g,h[m+5],4,-378558),e=c(a^g^d,e,a,h[m+8],11,-2022574463),d=c(e^a^g,d,e,h[m+11],16,1839030562), g=c(d^e^a,g,d,h[m+14],23,-35309556),a=c(g^d^e,a,g,h[m+1],4,-1530992060),e=c(a^g^d,e,a,h[m+4],11,1272893353),d=c(e^a^g,d,e,h[m+7],16,-155497632),g=c(d^e^a,g,d,h[m+10],23,-1094730640),a=c(g^d^e,a,g,h[m+13],4,681279174),e=c(a^g^d,e,a,h[m+0],11,-358537222),d=c(e^a^g,d,e,h[m+3],16,-722521979),g=c(d^e^a,g,d,h[m+6],23,76029189),a=c(g^d^e,a,g,h[m+9],4,-640364487),e=c(a^g^d,e,a,h[m+12],11,-421815835),d=c(e^a^g,d,e,h[m+15],16,530742520),g=c(d^e^a,g,d,h[m+2],23,-995338651),a=l(a,g,d,e,h[m+0],6,-198630844),e= l(e,a,g,d,h[m+7],10,1126891415),d=l(d,e,a,g,h[m+14],15,-1416354905),g=l(g,d,e,a,h[m+5],21,-57434055),a=l(a,g,d,e,h[m+12],6,1700485571),e=l(e,a,g,d,h[m+3],10,-1894986606),d=l(d,e,a,g,h[m+10],15,-1051523),g=l(g,d,e,a,h[m+1],21,-2054922799),a=l(a,g,d,e,h[m+8],6,1873313359),e=l(e,a,g,d,h[m+15],10,-30611744),d=l(d,e,a,g,h[m+6],15,-1560198380),g=l(g,d,e,a,h[m+13],21,1309151649),a=l(a,g,d,e,h[m+4],6,-145523070),e=l(e,a,g,d,h[m+11],10,-1120210379),d=l(d,e,a,g,h[m+2],15,718787259),g=l(g,d,e,a,h[m+9],21,-343485551), a=b(a,r),g=b(g,p),d=b(d,s),e=b(e,t);h=[a,g,d,e];a="";g=0;for(d=32*h.length;g<d;g+=8)a+=String.fromCharCode(h[g>>5]>>>g%32&255);return a}(function(b){for(var a="",c=-1,d=b.length,f,e;++c<d;)f=b.charCodeAt(c),e=c+1<d?b.charCodeAt(c+1):0,55296<=f&&56319>=f&&56320<=e&&57343>=e&&(f=65536+((f&1023)<<10)+(e&1023),c++),127>=f?a+=String.fromCharCode(f):2047>=f?a+=String.fromCharCode(192|f>>>6&31,128|f&63):65535>=f?a+=String.fromCharCode(224|f>>>12&15,128|f>>>6&63,128|f&63):2097151>=f&&(a+=String.fromCharCode(240| f>>>18&7,128|f>>>12&63,128|f>>>6&63,128|f&63));return a}(a)))});VK.extend=function(a,b,c){for(var f in b)if(c||"undefined"===typeof a[f])a[f]=b[f];return a};"https:"!==VK._protocol&&(VK._protocol="https:"===location.protocol?"https:":"http:"); VK.xdConnectionCallbacks?(setTimeout(function(){for(var a;a=VK.xdConnectionCallbacks.pop();)a()},0),VK.Widgets&&!VK.Widgets._constructor&&(VK.Widgets=!1)):(VK.extend(VK,{version:1,_apiId:null,_session:null,_userStatus:"unknown",_domain:{main:"https://oauth.vk.com/",api:"https://api.vk.com/"},_path:{login:"authorize",proxy:"fxdm_oauth_proxy.html"},_rootId:"vk_api_transport",_nameTransportPath:"",xdReady:!1,access:{FRIENDS:2,PHOTOS:4,AUDIO:8,VIDEO:16,MATCHES:32,QUESTIONS:64,WIKI:128}}),VK.init=function(a){var b; VK._apiId=null;if(!a.apiId)throw Error("VK.init() called without an apiId");VK._apiId=a.apiId;if(a.onlyWidgets)return!0;a.nameTransportPath&&""!==a.nameTransportPath&&(VK._nameTransportPath=a.nameTransportPath);b=document.getElementById(VK._rootId);b||(b=document.createElement("div"),b.id=VK._rootId,a=document.getElementsByTagName("body")[0],a.insertBefore(b,a.childNodes[0]));b.style.position="absolute";b.style.top="-10000px";if(a=VK.Cookie.load())VK.Auth._loadState="loaded",VK.Auth.setSession(a, a?"connected":"unknown")},VK.Cookie||(VK.Cookie={_domain:null,load:function(){var a=document.cookie.match("\\bvk_app_"+VK._apiId+"=([^;]*)\\b"),b;if(a){b=this.decode(a[1]);if("oauth"!=b.secret)return!1;b.expire=parseInt(b.expire,10);VK.Cookie._domain="."+window.location.hostname}return b},setRaw:function(a,b,c,f){var k;k="vk_app_"+VK._apiId+"="+a+"";f=f?(new Date).getTime()+1E3*f:1E3*b;k+=a&&0===b?"":"; expires="+(new Date(f)).toGMTString();k=k+"; path=/"+(c?"; domain=."+c:"");document.cookie=k;this._domain= c},set:function(a,b){a?this.setRaw(this.encode(a),a.expire,window.location.hostname,(b||{}).time):this.clear()},clear:function(){this.setRaw("",0,this._domain,0)},encode:function(a){var b=[],c;for(c in a)"user"!=c&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));b.sort();return b.join("&")},decode:function(a){var b={};a=a.split("&");var c,f;for(c=0;c<a.length;c++)(f=a[c].split("=",2))&&f[0]&&(b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]));return b}}),VK.Api||(VK.Api={_headId:null, _callbacks:{},ie6_7:function(){VK.Api.ieTested||(VK.Api.isIE6_7=navigator.userAgent.match(/MSIE [6|7]/i),VK.Api.ieTested=!0);return VK.Api.isIE6_7},attachScript:function(a){VK.Api._headId||(VK.Api._headId=document.getElementsByTagName("head")[0]);var b=document.createElement("script");b.type="text/javascript";b.setAttribute("encoding","UTF-8");b.src=a;VK.Api._headId.appendChild(b)},checkMethod:function(a,b,c,f){var k=a.toLowerCase();if("wall.post"==k||"activity.set"==k){var l="activity.set"==k?b.text: b.message,l=VK._protocol+"//vk.com/al_apps.php?act=wall_post_box&widget=1&method="+k+"&aid="+parseInt(VK._apiId,10)+"&text="+encodeURIComponent(l);"wall.post"==k&&(l+="&owner_id="+parseInt(b.owner_id||0,10)+"&attachments="+(b.attachments||b.attachment||""));var n="_"+Math.random().toString(16).substr(2);VK.UI.popup({url:l+("&method_access="+n),width:460,height:249});var h=setInterval(function(){VK.UI.active.closed&&(clearInterval(h),b.method_access=n,VK.Api.call(a,b,c,f))},500);return!1}return!0}, call:function(a,b,c,f){var k=b||{},l,n;if("object"!=typeof k||"function"!=typeof c)return!1;if(b.method_access||b.method_force||VK.Api.checkMethod(a,b,c,f))if(f||(f=0),"loaded"!=VK.Auth._loadState){var h=function(d){d&&d.session&&(VK.Observer.unsubscribe("auth.loginStatus",h),VK.Api.call(a,b,c))};VK.Observer.subscribe("auth.loginStatus",h);VK.Auth.getLoginStatus()}else{if(1500>VK.Api.queryLength(k)&&!VK.Api.ie6_7()){for(var g=!1,d=parseInt(1E7*Math.random(),10);VK.Api._callbacks[d];)d=parseInt(1E7* Math.random(),10);k.callback="VK.Api._callbacks["+d+"]"}else g=!0;VK._session&&VK._session.sid&&(k.access_token=VK._session.sid);l=VK.Cookie.encode(k);n=function(h){if(!h.error||3!=h.error.error_code&&4!=h.error.error_code&&5!=h.error.error_code)c(h);else{if(3<f)return!1;var e=function(d){VK.Observer.unsubscribe("auth.sessionChange",e);delete b.access_token;d.session&&VK.Api.call(a,b,c,f+1)};VK.Observer.subscribe("auth.sessionChange",e);VK.Auth.getLoginStatus()}g||delete VK.Api._callbacks[d]};g?VK.xdReady? VK.XDM.remote.callMethod("apiCall",a,l,n):(VK.Observer.subscribe("xdm.init",function(){VK.XDM.remote.callMethod("apiCall",a,l,n)}),VK.XDM.init()):(VK.Api._callbacks[d]=n,VK.Api.attachScript(VK._domain.api+"method/"+a+"?"+l))}},queryLength:function(a){var b=100,c;for(c in a)b+=c.length+encodeURIComponent(a.i).length+1;return b}},VK.api=function(a,b,c){VK.Api.call(a,b,c)}),VK.Auth||(VK.Auth={popup:null,lsCb:{},setSession:function(a,b,c,f){var k=!VK._session&&a,l=VK._session&&!a,n=VK._session&&a&&VK._session.mid!= a.mid,h=k||l||VK._session&&a&&VK._session.sid!=a.sid,g=b!=VK._userStatus,d={session:a,status:b,settings:c};VK._session=a;VK._userStatus=b;VK.Cookie.set(a,f);(h||g||n)&&setTimeout(function(){g&&VK.Observer.publish("auth.statusChange",d);(l||n)&&VK.Observer.publish("auth.logout",d);(k||n)&&VK.Observer.publish("auth.login",d);h&&VK.Observer.publish("auth.sessionChange",d)},0);return d},login:function(a,b){var c;if(!VK._apiId)return!1;c=VK._domain.main+VK._path.login+"?client_id="+VK._apiId+"&display=popup&redirect_uri=close.html&response_type=token"; b&&0<parseInt(b,10)&&(c+="&scope="+b);VK.Observer.unsubscribe("auth.onLogin");VK.Observer.subscribe("auth.onLogin",a);VK.UI.popup({width:620,height:370,url:c});var f=function(){VK.Auth.getLoginStatus(function(a){VK.Observer.publish("auth.onLogin",a);VK.Observer.unsubscribe("auth.onLogin")},!0)};VK.UI.popupOpened=!0;var k=function(){if(!VK.UI.popupOpened)return!1;try{if(!VK.UI.active.top||VK.UI.active.closed)return VK.UI.popupOpened=!1,f(),!0}catch(a){return VK.UI.popupOpened=!1,f(),!0}setTimeout(k, 100)};setTimeout(k,100)},logout:function(a){VK.Auth.revokeGrants(a)},revokeGrants:function(a){var b=function(c){VK.Observer.unsubscribe("auth.statusChange",b);a&&a(c)};VK.Observer.subscribe("auth.statusChange",b);VK._session&&VK._session.sid&&VK.Api.attachScript("https://login.vk.com/?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&do_logout=1&token="+VK._session.sid);VK.Cookie.clear()},getSession:function(){return VK._session},getLoginStatus:function(a, b){if(VK._apiId){if(a)if(b||"loaded"!=VK.Auth._loadState)VK.Observer.subscribe("auth.loginStatus",a);else{a({status:VK._userStatus,session:VK._session});return}if(b||"loading"!=VK.Auth._loadState){VK.Auth._loadState="loading";for(var c=parseInt(1E7*Math.random(),10);VK.Auth.lsCb[c];)c=parseInt(1E7*Math.random(),10);VK.Auth.lsCb[c]=function(a){delete VK.Auth.lsCb[c];VK.Auth._loadState="loaded";if(a&&a.auth){var k={mid:a.user.id,sid:a.access_token,sig:a.sig,secret:a.secret,expire:a.expire};b&&(k.user= a.user);var l="connected"}else k=null,l=a.user?"logined":"unknown",VK.Cookie.clear();VK.Auth.setSession(k,l,!1,a);VK.Observer.publish("auth.loginStatus",{session:k,status:l});VK.Observer.unsubscribe("auth.loginStatus")};VK.Api.attachScript("https://login.vk.com/?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&rnd="+c)}}}})); VK.UI||(VK.UI={active:null,_buttons:[],popup:function(a){var b="undefined"!=typeof window.screenY?window.screenY:window.screenTop,c="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,f=a.width,k=a.height,l=parseInt(("undefined"!=typeof window.screenX?window.screenX:window.screenLeft)+(("undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth)-f)/2,10),b=parseInt(b+(c-k)/2.5,10);this.active=window.open(a.url,"vk_openapi","width="+f+",height="+ k+",left="+l+",top="+b)},button:function(a,b){var c="";"string"==typeof a&&(a=document.getElementById(a));this._buttons.push(a);index=this._buttons.length-1;c='<table cellspacing="0" cellpadding="0" id="openapi_UI_'+index+'" onmouseover="VK.UI._change(1, '+index+');" onmouseout="VK.UI._change(0, '+index+');" onmousedown="VK.UI._change(2, '+index+');" onmouseup="VK.UI._change(1, '+index+');" style="cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;"><tr style="vertical-align: middle"><td><div style="border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td><td><div style="background: url('+ VK._protocol+'//vk.com/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px"></div></td><td><div style="border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td></tr></table>'; a.innerHTML=c;a.style.width=a.childNodes[0].offsetWidth+"px"},_change:function(a,b){for(var c=document.getElementById("openapi_UI_"+b).rows[0],f=[c.cells[0].firstChild.firstChild,c.cells[2].firstChild.firstChild],k=0;2>k;++k){var l=f[k];0===a?(l.style.backgroundColor="#6D8DB1",l.style.borderTopColor="#7E9CBC",l.style.borderLeftColor=l.style.borderRightColor=l.style.borderBottomColor="#5C82AB"):1==a?(l.style.backgroundColor="#7693B6",l.style.borderTopColor="#88A4C4",l.style.borderLeftColor=l.style.borderRightColor= l.style.borderBottomColor="#6088B4"):2==a&&(l.style.backgroundColor="#6688AD",l.style.borderBottomColor="#7495B8",l.style.borderLeftColor=l.style.borderRightColor=l.style.borderTopColor="#51779F")}0===a||2==a?c.cells[2].firstChild.style.backgroundPosition="0px -42px":1==a&&(c.cells[2].firstChild.style.backgroundPosition="0px -63px")}}); VK.XDM||(VK.XDM={remote:null,init:function(){if(this.remote)return!1;var a=VK._domain.api+VK._path.proxy;this.remote=new fastXDM.Server({onInit:function(){VK.xdReady=!0;VK.Observer.publish("xdm.init")}});this.remote.append(document.getElementById(VK._rootId),{src:a})},xdHandler:function(a){try{eval("VK."+a)}catch(b){}}}); VK.Observer||(VK.Observer={_subscribers:function(){this._subscribersMap||(this._subscribersMap={});return this._subscribersMap},publish:function(a){var b=Array.prototype.slice.call(arguments);a=b.shift();var c=this._subscribers()[a],f,k;if(c)for(f=0,k=c.length;f<k;f++)null!=c[f]&&c[f].apply(this,b)},subscribe:function(a,b){var c=this._subscribers();if("function"!=typeof b)return!1;c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this._subscribers()[a],f,k;if(!c)return!1;if("function"== typeof b)for(f=0,k=c.length;f<k;f++)c[f]==b&&(c[f]=null);else delete this._subscribers()[a]}}); VK.Widgets||(VK.Widgets={},VK.Widgets.count=0,VK.Widgets.RPC={},VK.Widgets.loading=function(a,b){a.style.background=b?'url("'+VK._protocol+'//vk.com/images/upload.gif") center center no-repeat transparent':"none"},VK.Widgets.Comments=function(a,b,c){var f=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");b=b||{};var k={limit:b.limit||10,height:b.height||0,mini:void 0===b.mini?"auto":b.mini,norealtime:b.norealtime?1:0},l=function(){h.callMethod("mouseUp");return!1}, n=function(a){h.callMethod("mouseMove",{screenY:a.screenY})},h;if(b.browse)k.browse=1,k.replies=b.replies||0;else{var g=b.pageUrl||f.url;"/"==g.substr(0,1)&&(g=location.protocol+"//"+location.host+g);VK.extend(k,{page:c||0,status_publish:void 0===b.autoPublish?1:b.autoPublish,attach:void 0===b.attach?"*":b.attach?b.attach:"",url:g,title:b.pageTitle||f.title,description:b.pageDescription||f.description,image:b.pageImage||f.image})}b.onChange&&(VK.Observer.subscribe("widgets.comments.new_comment",b.onChange), VK.Observer.subscribe("widgets.comments.delete_comment",b.onChange));return VK.Widgets._constructor("widget_comments.php",a,b,k,{showBox:function(a,c){VK.Util.Box((b.base_domain||VK._protocol+"//vk.com")+"/"+a,[],{proxy:function(){h.callMethod.apply(h,arguments)}}).show()},startDrag:function(){cursorBack=window.document.body.style.cursor;window.document.body.style.cursor="pointer";VK.Util.addEvent("mousemove",n);VK.Util.addEvent("mouseup",l)},stopDrag:function(){window.document.body.style.cursor= cursorBack;VK.Util.removeEvent("mousemove",n);VK.Util.removeEvent("mouseup",l)}},{startHeight:133,minWidth:300,width:"100%"},function(a,b,c){h=c})},VK.Widgets.CommentsBrowse=function(a,b){b=b||{};b.browse=1;return VK.Widgets.Comments(a,b)},VK.Widgets.Recommended=function(a,b){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");b=b||{};var c={limit:b.limit||5,max:b.max||0,sort:b.sort||"friend_likes",verb:b.verb||0,period:b.period||"week",target:b.target||"parent"}; return VK.Widgets._constructor("widget_recommended.php",a,b,c,{},{startHeight:90+30*c.limit,minWidth:150,width:"100%"})},VK.Widgets.Like=function(a,b,c){function f(a){if((e||a)&&q&&m&&q&&("none"==m.style.display||"yes"==m.getAttribute("vkhidden"))){a=b.getScrollTop?b.getScrollTop():document.body.scrollTop||document.documentElement.scrollTop||0;var c=VK.Util.getXY(p,b.fixed),f=r?0:c[1];a>c[1]-120&&"top"!=b.tooltipPos||"vertical"==n||"bottom"==b.tooltipPos?(m.style.top=f+d+2+"px",q.callMethod("show", !1)):(m.style.top=f-125+"px",q.callMethod("show",!0));VK.Util.ss(m,{left:(r?0:c[0])-("vertical"==n||"mini"==n?36:2)+"px",display:"block",opacity:1,filter:"none"});m.setAttribute("vkhidden","no");e=!0}}function k(a){e&&!a||!q||(q.callMethod("hide"),t.callMethod("hide"),setTimeout(function(){m.style.display="none"},400))}var l=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");b=VK.extend(b||{},{allowTransparency:!0});"button"!=b.type&&"vertical"!=b.type&&"mini"!= b.type||delete b.width;var n="full"==b.type||"button"==b.type||"vertical"==b.type||"mini"==b.type?b.type:"full",h="full"==n?Math.max(200,b.width||350):"button"==n?180:"mini"==n?100:41,g=parseInt(b.height,10)||22,d="vertical"==n?2*g+7:"full"==n?g+1:g;c={page:c||0,url:b.pageUrl||l.url,type:n,verb:1==b.verb?1:0,color:b.color||"",title:b.pageTitle||l.title,description:b.pageDescription||l.description,image:b.pageImage||l.image,text:(b.text||"").substr(0,140),h:g};var r=b.ttHere||!1,e=!1,p,s,t,m,q,u,v; return VK.Widgets._constructor("widget_like.php",a,b,c,{initTooltip:function(a){q=new fastXDM.Server({onInit:a?function(){f(!0)}:function(){},proxy:function(){t.callMethod.apply(t,arguments)},showBox:function(a,c){VK.Util.Box((b.base_domain||VK._protocol+"//vk.com/")+a,[c.width,c.height],{proxy:function(){q.callMethod.apply(q,arguments)}}).show()},statsBox:function(a){k(!0);v=VK.Util.Box(s.src+"&act=a_stats_box&widget_width=620");v.show()}},!1,{safe:!0});m=q.append(r?p:document.body,{src:s.src+"&act=a_like_tooltip", scrolling:"no",allowTransparency:!0,id:s.id+"_tt",style:{position:"absolute",padding:0,display:"block",opacity:0.01,filter:"alpha(opacity=1)",border:"0",width:"238px",height:"124px",zIndex:5E3,overflow:"hidden"}});m.setAttribute("vkhidden","yes");p.onmouseover=m.onmouseover=function(){clearTimeout(u);e=!0};p.onmouseout=m.onmouseout=function(){clearTimeout(u);e=!1;u=setTimeout(function(){k()},200)}},showTooltip:f,hideTooltip:k,showBox:function(a,c){VK.Util.Box((b.base_domain||VK._protocol+"//vk.com/")+ a,[],{proxy:function(){t.callMethod.apply(t,arguments)}}).show()},proxy:function(){q&&q.callMethod.apply(q,arguments)}},{startHeight:d,minWidth:h},function(a,b,c){t=c;VK.Util.ss(p=a,{height:d+"px",width:h+"px",position:"relative",clear:"both"});VK.Util.ss(s=b,{height:d+"px",width:h+"px",overflow:"hidden",zIndex:150})})},VK.Widgets.Poll=function(a,b,c){var f=VK.Util.getPageData();if(!c)throw Error("No poll id passed");b=b||{};return VK.Widgets._constructor("widget_poll.php",a,b,{poll_id:c,url:b.pageUrl|| f.url||location.href,title:b.pageTitle||f.title,description:b.pageDescription||f.description},{},{startHeight:133,minWidth:300,width:"100%"})},VK.Widgets.PagePoll=function(a,b,c){var f=VK.Util.getPageData();b=b||{};return VK.Widgets._constructor("al_widget_poll.php",a,b,{page:c||0,norealtime:b.norealtime?1:0,poll_id:b.pollId||"",url:b.pageUrl||f.url||location.href,title:b.pageTitle||f.title,description:b.pageDescription||f.description},{},{startHeight:133,minWidth:300,width:"100%"})},VK.Widgets.Community= VK.Widgets.Group=function(a,b,c){function f(){l.callMethod("mouseUp");return!1}function k(a){l.callMethod("mouseMove",{screenY:a.screenY});return!1}c=parseInt(c,10);var l;if(!c)throw Error("No group_id passed");b.mode=parseInt(b.mode,10).toString();c={gid:c,mode:b.mode?b.mode:"0"};b.width||(b.width=200);b.wall&&(c.wall=b.wall);c.color1=b.color1||"";c.color2=b.color2||"";c.color3=b.color3||"";b.no_head&&(c.no_head=1);b.height||(b.height=290);b.wide&&(c.wide=1,300>b.width&&(b.width=300));var n;return VK.Widgets._constructor("widget_community.php", a,b,c,{showBox:function(a,c){VK.Util.Box((b.base_domain||VK._protocol+"//vk.com/")+a,[],{proxy:function(){rpc.callMethod.apply(rpc,arguments)}}).show()},startDrag:function(){n=window.document.body.style.cursor;window.document.body.style.cursor="pointer";VK.Util.addEvent("mousemove",k);VK.Util.addEvent("mouseup",f)},stopDrag:function(){window.document.body.style.cursor=n;VK.Util.removeEvent("mousemove",k);VK.Util.removeEvent("mouseup",f)},auth:function(){VK.Auth.login(null,1)}},{minWidth:120,width:"200", height:"290",startHeight:200},function(a,b,c){l=c})},VK.Widgets.Auth=function(a,b){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");b.width||(b.width=200);type=b.type?1:0;return VK.Widgets._constructor("widget_auth.php",a,b,{},{makeAuth:function(a){a.session&&(VK.Auth._loadState="loaded",VK.Auth.setSession(a.session,"connected"),VK.Observer.publish("auth.loginStatus",{session:a.session,status:"connected"}),VK.Observer.unsubscribe("auth.loginStatus"));if(b.onAuth)b.onAuth(a); else{var f=b.authUrl?b.authUrl:window.location.href,f=-1==f.indexOf("?")?f+"?":f+"&",k=[],l;for(l in a)"session"!=l&&k.push(l+"="+decodeURIComponent(a[l]).replace(/&/g,"%26").replace(/\?/,"%3F"));window.location.href=f+k.join("&")}}},{startHeight:80})},VK.Widgets.Subscribe=function(a,b,c){c=parseInt(c,10);if(!c)throw Error("No owner_id passed");c={oid:c};b.mode&&(c.mode=b.mode);b.soft&&(c.soft=b.soft);return VK.Widgets._constructor("widget_subscribe.php",a,b,c,{showBox:function(a,c){VK.Util.Box((b.base_domain|| VK._protocol+"//vk.com/")+a,[],{proxy:function(){rpc.callMethod.apply(rpc,arguments)}}).show()},auth:function(){VK.Auth.login(null,1)}},{minWidth:220,startHeight:22,height:b.height||22},function(a,b,c){})},VK.Widgets.Ads=function(a,b,c){function f(a){function b(a){return"[object Function]"===Object.prototype.toString.call(a)}var c=!1;try{if(!a)return!1;var d=!1;if(b(a))d=a;else if("[object String]"===Object.prototype.toString.call(a)){for(var f=a.split("."),d=window,e=0,g=f.length;e<g&&(d=d[f[e]], d);e++);if(!d){"function"===a.substr(0,8)&&(a="return "+a+";");var h=(new Function(a))();b(h)?d=h:c=h}}if(d)var k=Array.prototype.slice.call(arguments,1),c=d.apply(d,k)}catch(l){try{console.error(l)}catch(m){}}return c}function k(a,b,c){function f(){if(!c)try{var a=e.contentWindow.document.body.firstChild.getBoundingClientRect(),b=Math.ceil(a.bottom-a.top);b&&(e.style.height=b,d.style.height=b)}catch(g){}}if(a&&d){b=b?b+"px":"";c=c?c+"px":"";a='<html><head></head><body style="padding: 0; margin: 0;"><div>'+ a+"</div></body></html>";var e=document.createElement("iframe");e.onload=f;e.id=(r?r.id:"vkwidget-"+Math.round(1E6*Math.random()))+"_ads_html_handler";e.src="about:blank";e.width="100%";e.height="100%";e.scrolling="no";e.frameBorder="0";e.allowTransparency=!0;e.style.overflow="hidden";e.style.width=b;e.style.height=c;d.style.width=b;d.style.height=c;d.appendChild(e);e.contentWindow.vk_ads_html_handler=a;e.src='javascript:window["vk_ads_html_handler"]'}}function l(a,b){var c;a:{c=0;for(var d=(b||[]).length;c< d;c++)if(b[c]==a)break a;c=-1}return-1!=c}b=b||{};c=c||{};var n={},h={},g={},d=document.getElementById(a),r,e={},p={},s={},t;for(t in c){var m=l(t,["hash"])?t:"ads_"+t;e[m]=c[t]}d&&d.getBoundingClientRect&&(d.style.width="100%",d.style.height="100%",c=d.getBoundingClientRect(),d.style.width="",d.style.height="",e.ads_ad_unit_width_auto=Math.floor(c.right-c.left),e.ads_ad_unit_height_auto=Math.floor(c.bottom-c.top));s.ads_ad_unit_width=100;s.ads_ad_unit_height=100;p.ads_ad_unit_width=parseInt(e.ads_ad_unit_width)|| "auto"===e.ads_ad_unit_width&&e.ads_ad_unit_width_auto||s.ads_ad_unit_width;p.ads_ad_unit_height=parseInt(e.ads_ad_unit_height)||"auto"===e.ads_ad_unit_height&&e.ads_ad_unit_height_auto||s.ads_ad_unit_height;e.ads_handler&&(p.ads_handler=e.ads_handler);e.ads_handler_empty_html&&(p.ads_handler_empty_html=e.ads_handler_empty_html);delete e.ads_handler;delete e.ads_handler_empty_html;n.act="ads_web";n.url=location.href;VK.extend(n,e);b.noDefaultParams=!0;b.width=p.ads_ad_unit_width;b.allowTransparency= !0;h.startHeight=p.ads_ad_unit_height;h.minWidth=p.ads_ad_unit_width;g.adsOnInitLoader=function(a){VK.Widgets.loading(d,!0);if(!("vk__adsLight"in window))window.vk__adsLight=!1,a=parseInt(a),(VK.Api&&VK.Api.attachScript||VK.addScript)((b.base_domain||VK._protocol+"//vk.com")+"/js/al/aes_light.js?"+a);else if(window.vk__adsLight&&vk__adsLight.userHandlers&&vk__adsLight.userHandlers.onInit)vk__adsLight.userHandlers.onInit(!1)};g.adsOnInit=function(a,c){VK.Widgets.loading(d,!1);var g=c;if(g)for(var h in g){var l= g[h];"ads_ad_unit_width"===h||"ads_ad_unit_height"===h?h in e||(p[h]=parseInt(l)||"auto"===l&&e[h+"_auto"]||s[h]):h in p||(p[h]=l)}b.onAdsReady&&b.onAdsReady.apply(b.onAdsReady,Array.prototype.slice.call(arguments));g=a;h=f(p.ads_handler,g);if(0>=g&&!0!==h){try{console.log("VK: ad_unit_id = "+e.ads_ad_unit_id,", errorCode = ",g)}catch(m){}k(p.ads_handler_empty_html,p.ads_ad_unit_width,p.ads_ad_unit_height)}};return VK.Widgets._constructor("ads_rotate.php",a,b,n,g,h,function(a,b,c){d=a;r=b})},VK.Widgets._constructor= function(a,b,c,f,k,l,n,h,g){var d=document.getElementById(b);h=h||++VK.Widgets.count;if(!d){g=g||0;if(10<g)throw Error("VK.Widgets: object #"+b+" not found.");setTimeout(function(){VK.Widgets._constructor(a,b,c,f,k,l,n,h,g+1)},500);return h}var r,e,p,s,t,m,q;c=c||{};l=l||{};k=k||{};r=c.base_domain||VK._protocol+"//vk.com";e="auto"==c.width?d.clientWidth||"100%":parseInt(c.width,10);c.height?(f.height=c.height,d.style.height=c.height+"px"):d.style.height=(l.startHeight||200)+"px";e=e?Math.max(l.minWidth|| 200,Math.min(1E4,e))+"px":"100%";f.url||(f.url=c.pageUrl||location.href.replace(/#.*$/,""));r=r+"/"+a;p="";c.noDefaultParams||(p+="&app="+(VK._apiId||"0")+"&width="+e);p+="&_ver="+VK.version;VK._iframeAppWidget&&(f.iframe_app=1);for(q in f){"title"==q&&80<f[q].length&&(f[q]=f[q].substr(0,80)+"...");"description"==q&&160<f[q].length&&(f[q]=f[q].substr(0,160)+"...");if("number"==typeof f[q])s=f[q];else try{s=encodeURIComponent(f[q])}catch(u){s=""}p+="&"+q+"="+s}p+="&"+(+new Date).toString(16);r+="?"+ p.substr(1);d.style.width=e;VK.Widgets.loading(d,!0);k.publish=function(){var a=Array.prototype.slice.call(arguments);a.push(h);VK.Observer.publish.apply(VK.Observer,a)};k.onInit=function(){VK.Widgets.loading(d,!1);if(k.onReady)k.onReady();if(c.onReady)c.onReady()};k.resize=function(a,b){d.style.height=a+"px";var c=document.getElementById("vkwidget"+h);c&&(c.style.height=a+"px")};k.resizeWidget=function(a,b){a=parseInt(a);b=parseInt(b);var e=document.getElementById("vkwidget"+h);isFinite(a)&&(d.style.width= a+"px",e&&(e.style.width=a+"px"));isFinite(b)&&(d.style.height=b+"px",e&&(e.style.height=b+"px"));if(c.onResizeWidget)c.onResizeWidget()};k.updateVersion=function(a){1<a&&VK.Api.attachScript("//vk.com/js/api/openapi_update.js?"+parseInt(a))};t=VK.Widgets.RPC[h]=new fastXDM.Server(k,function(a){if(!a)return!0;a=a.toLowerCase();return-1!=a.indexOf(".vk.com")||-1!=a.indexOf("/vk.com")},{safe:!0});m=VK.Widgets.RPC[h].append(d,{src:r,width:-1!=e.indexOf("%")?e:parseInt(e)||e,height:l.startHeight||"100%", scrolling:"no",id:"vkwidget"+h,allowTransparency:c.allowTransparency||!1,style:{overflow:"hidden"}});n&&setTimeout(function(){n(d,m||d.firstChild,t)},10);return h}); VK.Util||(VK.Util={getPageData:function(){if(!VK._pData){var a=document.getElementsByTagName("meta"),b={},c=["description","title","url","image","app_id"],f,k;for(k in a)if(a[k].getAttribute&&a[k].getAttribute&&((f=a[k].getAttribute("name"))||(f=a[k].getAttribute("property"))))for(var l in c)if(f==c[l]||f=="og:"+c[l]||f=="vk:"+c[l])b[c[l]]=a[k].content;b.app_id&&!VK._apiId&&(VK._apiId=b.app_id);b.title=b.title||document.title||"";b.description=b.description||"";b.image=b.image||"";!b.url&&VK._iframeAppWidget&& VK._apiId&&(b.url="/app"+VK._apiId,VK._browserHash&&(b.url+=VK._browserHash));a=location.href.replace(/#.*$/,"");b.url&&b.url.indexOf(a)||(b.url=a);VK._pData=b}return VK._pData},getStyle:function(a,b){var c,f=document.defaultView||window;f.getComputedStyle?(b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),(f=f.getComputedStyle(a,null))&&(c=f.getPropertyValue(b))):a.currentStyle&&(c=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]||a.currentStyle[c]);return c},getXY:function(a, b){if(a&&void 0!==a){var c=0,f=0;if(void 0!==a.getBoundingClientRect)f=a.getBoundingClientRect(),c=f.left,f=f.top,b=!0;else if(a.offsetParent){do c+=a.offsetLeft,f+=a.offsetTop,b&&(c-=a.scrollLeft,f-=a.scrollTop);while(a=a.offsetParent)}b&&(f+=window.pageYOffset||window.scrollNode&&scrollNode.scrollTop||document.documentElement.scrollTop,c+=window.pageXOffset||window.scrollNode&&scrollNode.scrollLeft||document.documentElement.scrollLeft);return[c,f]}},Box:function(a,b,c,f){c=c||{};var k=document.body.style.overflow, l=document.createElement("DIV");b=new fastXDM.Server(VK.extend(c,{onInit:function(){n.style.background="transparent";n.style.visibility="visible";document.body.style.overflow="hidden";document.body.removeChild(l)},hide:function(){n.style.display="none"},tempHide:function(){n.style.left="-10000px";n.style.top="-10000px";n.style.width="10px";n.style.height="10px";document.body.style.overflow=k},destroy:function(){try{n.src="about: blank;"}catch(a){}n.parentNode.removeChild(n);document.body.style.overflow= k},resize:function(a,b){}},!0),!1,{safe:!0});var n=b.append(document.body,{src:a.replace(/&amp;/g,"&"),scrolling:"no",allowTransparency:!0,style:{position:"fixed",left:0,top:0,zIndex:1002,background:VK._protocol+"//vk.com/images/upload.gif center center no-repeat transparent",padding:"0",border:"0",width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"}});l.innerHTML='<div style="position: fixed;left: 50%;top: 50%;margin: 0px auto 0px -60px;z-index: 1002;width: 100px;"><div style="background: url(//vk.com/images/upload_inv_mono'+ (2<=window.devicePixelRatio?"_2x":"")+'.gif) no-repeat 50% 50%;background-size: 64px 16px;height: 50px;position: absolute;width: 100%;z-index: 100;"></div><div style="background-color: #000;opacity: 0.7;filter: alpha(opacity=70);height: 50px;-webkit-border-radius: 5px;-khtml-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);"></div></div>'; document.body.insertBefore(l,document.body.firstChild);return{show:function(a,b){n.style.display="block";document.body.style.overflow="hidden"},hide:function(){n.style.display="none";document.body.style.overflow=k},iframe:n,rpc:b}},addEvent:function(a,b){window.document.addEventListener?window.document.addEventListener(a,b,!1):window.document.attachEvent&&window.document.attachEvent("on"+a,b)},removeEvent:function(a,b){window.document.removeEventListener?window.document.removeEventListener(a,b,!1): window.document.detachEvent&&window.document.detachEvent("on"+a,b)},ss:function(a,b){VK.extend(a.style,b,!0)}});window.vkAsyncInit&&setTimeout(vkAsyncInit,0);window.vkAsyncInitCallbacks&&vkAsyncInitCallbacks.length&&setTimeout(function(){for(var a;a=vkAsyncInitCallbacks.pop();)try{a()}catch(b){try{console.error(b)}catch(c){}}},0);try{window.stManager&&stManager.done("api/openapi.js")}catch(e$$23){};
// Original: http://vk.com/js/api/share.js?10
window.VK||(window.VK={}); if(!VK.Share){VK.Share={_popups:[],_gens:[],_base_domain:"",_ge:function(c){return document.getElementById(c)},button:function(c,a,b){c||(c={});c===c.toString()&&(c={url:c.toString()});c.url||(c.url=VK.Share._loc);a||(a={type:"round"});a===a.toString()&&(a={type:"round",text:a});a.text||(a.text="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");var d=!0,f="display: none";void 0===b?(c.count=0,c.shared="button"==a.type||"round"==a.type?!1:!0,this._gens.push(c),this._popups.push(!1),b=this._popups.length- 1,d=!1):(!(c.count=this._gens[b].count)||"button"!=a.type&&"round"!=a.type||(f=""),c.shared=this._gens[b].shared,this._gens[b]=c);var g=document.getElementsByTagName("head")[0];if(!this._base_domain)for(var e=g.firstChild;e;e=e.nextSibling){var k;e.tagName&&"script"==e.tagName.toLowerCase()&&(k=e.src.match(/(https?:\/\/(?:[a-z0-9_\-\.]*\.)?(?:vk\.com|vkontakte\.ru)\/)js\/api\/share\.js(?:\?|$)/))&&(this._base_domain=k[1])}this._base_domain=this._base_domain.replace("vkontakte.ru","vk.com");this._base_domain|| (this._base_domain="http://vk.com/");d||"button"!=a.type&&"round"!=a.type||(e=document.createElement("script"),e.src=this._base_domain+"share.php?act=count&index="+b+"&url="+encodeURIComponent(c.url),g.appendChild(e));d=2<=window.devicePixelRatio?"_2x":"";g=a.eng?"_eng":"";e='<a href="'+this._base_domain+"share.php?url="+encodeURIComponent(c.url)+'" onmouseup="this._btn=event.button;this.blur();" onclick="return VK.Share.click('+b+', this);"';k=e+' style="text-decoration:none;">';var l=e+' style="display:inline-block;text-decoration:none;">'; return"round"==a.type||"round_nocount"==a.type||"button"==a.type||"button_nocount"==a.type?'<table cellspacing="0" cellpadding="0" id="vkshare'+b+'" onmouseover="VK.Share.change(1, '+b+');" onmouseout="VK.Share.change(0, '+b+');" onmousedown="VK.Share.change(2, '+b+');" onmouseup="VK.Share.change(1, '+b+');" style="position: relative; width: auto; cursor: pointer; border: 0px;"><tr style="line-height: normal;"><td style="vertical-align: middle;">'+e+' style="border: none;background: #5F83AA;-webkit-border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;border-radius: 2px 0px 0px 2px;display:block;text-decoration: none;padding: 3px 3px 3px 6px;color: #FFFFFF;font-family: tahoma, arial;height: 15px;line-height:15px;font-size: 10px;text-shadow: none;">'+ a.text+'<div class="float:right"></div></a></td><td style="vertical-align: middle;">'+e+' style="border: none;background: #5F83AA;-webkit-border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;border-radius: 0px 2px 2px 0px;display:block; padding: 3px;'+(a.eng?"padding-left: 1px;":"")+'"><div style="background: url(\'//vk.com/images/icons/share_logo'+d+".png') 0px "+(a.eng?"-15px":"0px")+" no-repeat; background-size: 16px 31px; "+(a.eng?"width: 17px;height:9px;margin: 3px 0px;":"width: 15px;height: 15px;")+ '"></div></a></td>'+("round"==a.type||"button"==a.type?'<td style="vertical-align: middle;">'+e+' style="text-decoration: none;font-weight:bold;font-family: tahoma, arial;'+f+'"><div style="background: url(\'//vk.com/images/icons/share_logo'+d+'.png\') 0px -24px no-repeat; background-size: 16px 31px; width: 4px; height: 7px;position: absolute; margin: 7px 0px 0px 4px;z-index:100;"></div><div id="vkshare_cnt'+b+'" style="border: 1px solid #bbbfc4;background: #FFFFFF;height: 15px;line-height: 15px;5px; padding: 2px 4px;min-width: 12px;margin-left: 7px;border-radius: 2px;-webkit-border-radius: 2px;-moz-border-radius:2px;text-align: center; color: #666c73;font-size: 10px;z-index:99;">'+ c.count+"</div></a></td>":"")+"</tr></table>":"link"==a.type?'<table style="position: relative; cursor:pointer; width: auto; line-height: normal;" onmouseover="this.rows[0].cells[1].firstChild.firstChild.style.textDecoration=\'underline\'" onmouseout="this.rows[0].cells[1].firstChild.firstChild.style.textDecoration=\'none\'" cellspacing="0" cellpadding="0"><tr style="line-height: normal;"><td style="vertical-align: middle;">'+k+'<img src="//vk.com/images/icons/share_link'+g+d+'.png" width="16" height="16" style="vertical-align: middle;border:0;"/></a></td><td style="vertical-align: middle;">'+ k+'<span style="padding: 0 0 0 5px; color: #2B587A; font-family: tahoma, arial; font-size: 11px;">'+a.text+"</span></a></td></tr></table>":"link_noicon"==a.type?l+'<span style="position: relative; font-family: tahoma, arial; font-size: 11px; color: #2B587A; line-height: normal;" onmouseover="this.style.textDecoration=\'underline\'" onmouseout="this.style.textDecoration=\'none\'">'+a.text+"</span></a>":l+'<span style="position: relative; padding:0;">'+a.text+"</span></a>"},change:function(c,a){var b= this._ge("vkshare"+a),d;0==c?d="#5F83AA":1==c?d="#6890bb":2==c&&(d="#557599");var b=[b.rows[0].cells[0].firstChild,b.rows[0].cells[1].firstChild],f;for(f in b)b[f].style.backgroundColor=d,b[f].style.color="#FFFFFF",2==c?(b[f].style.paddingTop="4px",b[f].style.paddingBottom="2px"):(b[f].style.paddingTop="3px",b[f].style.paddingBottom="3px")},click:function(c,a){var b=window.event;if(b&&(!b.which&&a._btn&&(b.which=a._btn&1?1:a._btn&2?3:a._btn&4?2:0),2==b.which))return!0;var d=this._gens[c];d.shared|| (VK.Share.count(c,d.count+1),d.shared=!0);void 0===d.noparse&&(d.noparse=d.title&&d.description&&d.image);d.noparse=d.noparse?1:0;for(var b={},f=["title","description","image","noparse"],g=0;g<f.length;++g)d[f[g]]&&(b[f[g]]=d[f[g]]);var d=this._base_domain+"share.php?url="+d.url,f="scrollbars=0, resizable=1, menubar=0, left="+(screen.width-554)/2+", top="+(screen.height-349)/2+", width=554, height=349, toolbar=0, status=0",e=!1;try{var k="",l="";try{k=document.domain,l=location.host}catch(m){}if(k!= l){var h=navigator.userAgent.toLowerCase();if(!/opera/i.test(h)&&/msie/i.test(h))throw"wont work";}e=this._popups[c]=window.open("","_blank",f);h='<form accept-charset="UTF-8" action="'+d+'" method="POST" id="share_form">';for(g in b)h+='<input type="hidden" name="'+g+'" value="'+b[g].toString().replace(/"/g,"&myquot;").replace(/&quot/ig,"&myquot")+'" />';h+="</form>";h+='<script type="text/javascript">document.getElementById("share_form").submit()\x3c/script>';e.document.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="content-type" content="text/html; charset=windows-1251" /></head><body>'+ h+"</body></html>");e.focus()}catch(n){try{e&&e.close();d+="?";for(g in b)d+=encodeURIComponent(g)+"="+encodeURIComponent(b[g])+"&";e=this._popups[c]=window.open(d,"_blank",f);e.focus()}catch(p){}}return!1},count:function(c,a){this._gens[c].count=a;var b=this._ge("vkshare"+c);b&&(b=b.rows[0],a?(this._ge("vkshare_cnt"+c).innerHTML=a,b.cells[2].firstChild.style.display="block"):b.cells[2].firstChild.style.display="none")}};try{VK.Share._loc=location.toString()}catch(e$$16){VK.Share._loc="http://vk.com/"}} try{window.stManager&&stManager.done("api/share.js")}catch(e$$17){};
